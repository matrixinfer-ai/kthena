apiVersion: networking.serving.volcano.sh/v1alpha1
kind: ModelServer
metadata:
  name: ds-r1-qwen-7b-pd-ds-r1-qwen-7b-pd
  namespace: demo
  labels:
    workload.serving.volcano.sh/backend-name: ds-r1-qwen-7b-pd
    workload.serving.volcano.sh/managed-by: workload.serving.volcano.sh
    workload.serving.volcano.sh/model-name: ds-r1-qwen-7b-pd
    workload.serving.volcano.sh/model-uid: randomUID
    workload.serving.volcano.sh/revision: 7497dd8fdf
  ownerReferences:
    - apiVersion: workload.serving.volcano.sh/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: ModelBooster
      name: ds-r1-qwen-7b-pd
      uid: randomUID
spec:
  model: "ds-r1-qwen-7b-pd"
  inferenceEngine: "vLLM"
  workloadSelector:
    matchLabels:
      workload.serving.volcano.sh/model-uid: randomUID
    pdGroup:
      groupKey: "modelinfer.volcano.sh/group-name"
      prefillLabels:
        modelinfer.volcano.sh/role: prefill
      decodeLabels:
        modelinfer.volcano.sh/role: decode
  workloadPort:
    port: 8000
  trafficPolicy:
    retry:
      attempts: 5
      retryInterval: 0s
  kvConnector:
    type: mooncake
